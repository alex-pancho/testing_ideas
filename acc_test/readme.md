## Тестування банківських транзакцій

Цей код аналізує файл із транзакціями та підраховує баланс рахунку на основі депозитів та зняття коштів.

### Основна логіка роботи:

    **Обробка аргументів командного рядка:**
        Якщо ім'я файлу не передане при виклику скрипта, воно отримується з аргументів командного рядка.
        Якщо аргумент відсутній, використовується transactions.txt за замовчуванням.

    **Обробка помилок:**
        Перевіряється наявність файлу, якщо його немає – виводиться помилка FileNotFoundError.
        Перевіряється коректність даних у кожному рядку:
            Чи присутні всі необхідні параметри.
            Чи сума є числом.
            Чи операція має правильну назву (deposit або withdraw).

    **Обробка транзакцій:**
        deposit додає кошти на баланс.
        withdraw зменшує баланс.
        Якщо після операції баланс стає від’ємним, зберігається перша така транзакція.

    **Вивід результатів:**
        Загальна кількість транзакцій.
        Фінальний баланс рахунку.
        Перша транзакція, що зробила баланс негативним (якщо така була).

### Завдання для покращення коду:

1. Винести обробку аргументів командного рядка в окрему функцію.

1. Створити функцію get_filename() для отримання імені файлу.

1. Винести відкриття файлу в окрему функцію. Функція read_file(filename) буде відкривати та читати файл, повертати вміст або повідомляти про помилку.

1. Винести обробку рядків у функцію parse_line(line).    Вона повинна приймати рядок, очищати від зайвих символів, розбивати на частини та повертати список [date, operation, amount]. Додати обробку можливих помилок без виходу з програми (наприклад, пропускати некоректні рядки).

1. Винести логіку розрахунку балансу у функцію process_transactions(lines). Функція має приймати список транзакцій, виконувати всі обчислення та повертати необхідні значення.

1. Додати обробку файлу без транзакцій. Якщо файл пустий – не завершувати програму помилкою, а просто повідомити користувача.

1. Зробити код більш читабельним та додати docstrings. Описати кожну функцію, що вона робить.


## **Необхідність створення тестових наборів**  
Тестові набори допомагають перевірити коректність роботи програми в різних ситуаціях, включаючи як стандартні (позитивні) сценарії, так і нестандартні (негативні) випадки. Це забезпечує стабільність коду та мінімізує ризик помилок при реальних запусках.  

---

### **Опис тестових наборів**  

#### **Позитивні сценарії**  
Тестують очікувану поведінку програми при коректних вхідних даних.  

1️⃣ **Позитивний 1** – змішані транзакції (депозити та зняття)  
Очікуваний результат:  
- Програма правильно підраховує загальну кількість операцій та баланс.  
- Баланс не стає від’ємним.  

**Вхідні дані:**  
```
01-15-2020    Deposit $123.55
01-15-2020    Deposit $10.00
01-15-2020    Withdraw $9.99
01-16-2020    Withdraw $0.99
01-16-2020    Withdraw $5.00
01-16-2020    Deposit $3.22
```

---

2️⃣ **Позитивний 2** – лише депозити  
Очікуваний результат:  
- Фінальний баланс дорівнює сумі всіх внесених коштів.  
- Всі транзакції обробляються без помилок.  

**Вхідні дані:**  
```
01-15-2020    Deposit $123.55
01-15-2020    Deposit $10.00
01-15-2020    Deposit $9.99
01-16-2020    Deposit $0.99
01-16-2020    Deposit $5.00
01-16-2020    Deposit $3.22
01-17-2020    Deposit $56.76
```

---

3️⃣ **Позитивний 3** – лише зняття коштів  
Очікуваний результат:  
- Баланс стає від’ємним.  
- Програма правильно виявляє першу транзакцію, що спричинила негативний баланс.  

**Вхідні дані:**  
```
01-15-2020    Withdraw $123.55
01-15-2020    Withdraw $10.00
01-15-2020    Withdraw $9.99
01-16-2020    Withdraw $0.99
01-16-2020    Withdraw $5.00
01-16-2020    Withdraw $3.22
01-17-2020    Withdraw $56.76
```

---

#### **Негативні сценарії**  
Перевіряють, як програма поводиться при некоректних вхідних даних.  

1️⃣ **Негативний 1** – некоректні дані у транзакціях  
Очікуваний результат:  
- Програма правильно повідомляє про помилки у форматі введення.  
- Некоректні рядки ігноруються.  

**Вхідні дані:**  
```
01-15-2020    Deposit $123.55
01-16-2020    Deposit 10.00  # Пропущено символ "$"
01-15-2020    Withdraw       # Відсутня сума
01-16-2020    Withdraw $0.99
01-16-2020    Withdraw $5.00
01-16-2020    Deposit $0     # Депозит $0 може бути помилковим
```

---

2️⃣ **Негативний 2** – некоректні формати дат та невідома операція  
Очікуваний результат:  
- Програма має виявити невідомий формат дати та невірний тип операції.  

**Вхідні дані:**  
```
01-15-2020    Deposit $123.55
15-01-2020    Deposit $10.00  # Дата у форматі DD-MM-YYYY
01-15-2020    Withdraw $9.99
01-16-2020    Bonus $0.99     # Невідома операція "Bonus"
01-16-2020    Withdraw $5.00
2020-01-16    Deposit $3.22   # Дата у форматі YYYY-MM-DD
```

---

3️⃣ **Негативний 3** – порожній запис  
Очікуваний результат:  
- Програма повідомляє "no data" та не завершується помилкою.  

**Вхідні дані:**  
```
2020-01-16
```

---

4️⃣ **Негативний 4** – відсутні частини запису  
Очікуваний результат:  
- Програма повинна ідентифікувати та ігнорувати некоректні рядки.  

**Вхідні дані:**  
```
01-15-2020    Deposit $123.55
01-16-2020    Deposit 10.00   # Пропущено символ "$"
01-15-2020                  
01-16-2020    Withdraw $0.99
01-16-2020    Withdraw $5.00
01-16-2020    Deposit $0
```

---

### **Що покращити в коді для коректної обробки цих випадків?**  
✅ **Додати перевірку формату дат** – підтримка єдиного формату `MM-DD-YYYY`, помилка при інших форматах.  
✅ **Обробляти ситуації, коли операція або сума відсутня** – виводити відповідне повідомлення, але не припиняти виконання.  
✅ **Додати логіку для ігнорування некоректних рядків** – якщо рядок має помилку, він пропускається, а не зупиняє виконання.  
✅ **Додати підтримку коректного формату валют** – перевірка наявності `$`.  
✅ **Розширити логіку для перевірки операцій** – дозволити лише `Deposit` і `Withdraw`, а інші (наприклад, `Bonus`) вважати помилкою.  
✅ **Зробити обробку пустих файлів чи файлів без корисної інформації** – виводити "no data", а не просто виходити з програми.  

---
